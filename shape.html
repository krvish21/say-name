<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explosion Animation</title>
</head>
<body>
    <canvas id="explosionCanvas" width="600" height="400" style="border: 1px solid black;"></canvas>
    <script>
        const canvas = document.getElementById("explosionCanvas");
        const ctx = canvas.getContext("2d");

        // Array to hold particles
        let particles = [];

        // Function to initialize particles
        function createExplosion(x, y) {
            for (let i = 0; i < 100; i++) {
                particles.push({
                    x: x,
                    y: y,
                    radius: Math.random() * 5 + 2, // Random radius
                    color: `hsl(${Math.random() * 360}, 100%, 50%)`, // Random color
                    speed: Math.random() * 4 + 1, // Random speed
                    angle: Math.random() * Math.PI * 2, // Random direction
                    alpha: 1 // Initial opacity
                });
            }
        }

        // Function to update particles
        function updateParticles() {
            particles.forEach((particle, index) => {
                particle.x += Math.cos(particle.angle) * particle.speed;
                particle.y += Math.sin(particle.angle) * particle.speed;
                particle.alpha -= 0.02; // Fade out

                // Remove particle if it's fully transparent
                if (particle.alpha <= 0) {
                    particles.splice(index, 1);
                }
            });
        }

        // Function to draw particles
        function drawParticles() {
            particles.forEach(particle => {
                ctx.beginPath();
                ctx.arc(particle.x, particle.y, particle.radius, 0, Math.PI * 2);
                ctx.fillStyle = `rgba(${hexToRgb(particle.color)}, ${particle.alpha})`;
                ctx.fill();
                ctx.closePath();
            });
        }

        // Function to convert HSL color to RGB
        function hexToRgb(color) {
            const div = document.createElement('div');
            div.style.color = color;
            document.body.appendChild(div);
            const rgb = getComputedStyle(div).color;
            document.body.removeChild(div);
            return rgb.match(/\d+/g).join(',');
        }

        // Animation loop
        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            updateParticles();
            drawParticles();
            requestAnimationFrame(animate);
        }

        // Trigger explosion on click
        canvas.addEventListener("click", (e) => {
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            createExplosion(x, y);
        });

        // Start animation
        animate();
    </script>
</body>
</html>
